pipeline {
    agent any
    stages {

	
        // Run Application for Blur
stage('blur') {
            steps {

            catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE'){

               sh 'python3 test_script_v1.6.py blur'
                                      }
            }
        }


        // Run Application for curv
stage('curv') {
            steps {

            catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE'){

               sh 'python3 test_script_v1.6.py curve'
                                   }
            }
        }



  // Archive the built artifacts
stage('curv1') {
            steps {

            catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE'){

               sh 'python3 test_script_v1.6.py curve'

               archive (includes: 'pkg/*.gem')
                                   }
            }
        }





 // Archive the built artifacts
  


  stage('Test') {
            steps {

            catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE'){

               sh 'python3 test_script_v1.6.py curve'

               // publish html

               publishHTML target: [
            allowMissing: false,
            alwaysLinkToLastBuild: false,
            keepAll: true,
            reportDir: 'coverage',
            reportFiles: 'index.html',
            reportName: 'RCov Report'
          ]



                                   }
            }
        }




        
}

}
